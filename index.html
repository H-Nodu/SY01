<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SY0-701 セキュリティ+ 単語帳</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- HOME SCREEN -->
    <div id="home-screen" class="screen active">
        <div class="home-container">
            <div class="home-header">
                <div class="logo-icon">
                    <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
                        <rect x="4" y="4" width="40" height="40" rx="8" fill="#6366f1" opacity="0.15"/>
                        <rect x="8" y="8" width="32" height="32" rx="6" stroke="#6366f1" stroke-width="2.5"/>
                        <path d="M16 20h16M16 24h12M16 28h8" stroke="#6366f1" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <h1>SY0-701<span class="subtitle">CompTIA Security+ 単語帳</span></h1>
                <p class="home-desc">全711問の試験対策フラッシュカード</p>
            </div>

            <div class="stats-bar">
                <div class="stat-item">
                    <span class="stat-num" id="stat-total">711</span>
                    <span class="stat-label">全問題</span>
                </div>
                <div class="stat-divider"></div>
                <div class="stat-item">
                    <span class="stat-num" id="stat-mastered">0</span>
                    <span class="stat-label">覚えた</span>
                </div>
                <div class="stat-divider"></div>
                <div class="stat-item">
                    <span class="stat-num" id="stat-remaining">711</span>
                    <span class="stat-label">残り</span>
                </div>
            </div>

            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <span class="progress-pct" id="progress-pct">0%</span>
            </div>

            <div class="menu-cards">
                <button class="menu-card" id="btn-all" onclick="startMode('all')">
                    <div class="menu-card-icon">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                            <rect x="3" y="5" width="26" height="22" rx="3" stroke="currentColor" stroke-width="2"/>
                            <path d="M3 12h26" stroke="currentColor" stroke-width="2"/>
                            <circle cx="8" cy="8.5" r="1.5" fill="currentColor"/>
                            <circle cx="13" cy="8.5" r="1.5" fill="currentColor"/>
                        </svg>
                    </div>
                    <div class="menu-card-text">
                        <span class="menu-card-title">全問モード</span>
                        <span class="menu-card-sub">711問すべてをランダムに出題</span>
                    </div>
                    <div class="menu-card-count" id="count-all">711問</div>
                </button>

                <button class="menu-card menu-card-accent" id="btn-mistakes" onclick="startMode('mistakes')">
                    <div class="menu-card-icon">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                            <path d="M16 6l2.5 6.5H26l-5.5 4.5 2 7L16 20l-6.5 4 2-7L6 12.5h7.5L16 6z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="menu-card-text">
                        <span class="menu-card-title">復習モード</span>
                        <span class="menu-card-sub">間違えた・覚えたい問題のみ</span>
                    </div>
                    <div class="menu-card-count" id="count-mistakes">0問</div>
                </button>
            </div>

            <button class="reset-btn" onclick="confirmReset()">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path d="M2 8a6 6 0 0111.3-2.8M14 8a6 6 0 01-11.3 2.8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M14 2v4h-4M2 14v-4h4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                学習データをリセット
            </button>
        </div>
    </div>

    <!-- FLASHCARD SCREEN -->
    <div id="card-screen" class="screen">
        <div class="card-header">
            <button class="back-btn" onclick="goHome()">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M12 4l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                ホーム
            </button>
            <div class="card-progress-info">
                <span id="card-counter">1 / 711</span>
                <span id="card-mode-label" class="mode-badge">全問モード</span>
            </div>
            <button class="shuffle-btn" onclick="shuffleDeck()" title="シャッフル">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M3 6h4l3 4-3 4H3M17 6h-4l-1.5 2M12 14h5M17 6l-2-2m2 2l-2 2M17 14l-2-2m2 2l-2 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </div>

        <div class="card-mini-progress">
            <div class="card-mini-progress-fill" id="card-mini-progress-fill"></div>
        </div>

        <div class="card-area" id="card-area">
            <div class="flashcard" id="flashcard" onclick="flipCard()">
                <!-- FRONT -->
                <div class="card-face card-front">
                    <div class="card-q-number" id="card-q-number">QUESTION 001</div>
                    <div class="card-q-text" id="card-q-text"></div>
                    <div class="card-choices" id="card-choices"></div>
                    <div class="card-flip-hint">タップして回答を表示</div>
                </div>
                <!-- BACK -->
                <div class="card-face card-back">
                    <div class="card-answer" id="card-answer"></div>
                    <div class="card-explanation" id="card-explanation"></div>
                    <div class="card-incorrect" id="card-incorrect"></div>
                </div>
            </div>
        </div>

        <div class="card-actions">
            <button class="action-btn action-mistake" id="btn-mark-mistake" onclick="markMistake()">
                <svg width="22" height="22" viewBox="0 0 22 22" fill="none">
                    <circle cx="11" cy="11" r="9" stroke="currentColor" stroke-width="2"/>
                    <path d="M8 8l6 6M14 8l-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <span>もう一度</span>
            </button>
            <button class="action-btn action-prev" onclick="prevCard()">
                <svg width="22" height="22" viewBox="0 0 22 22" fill="none">
                    <path d="M14 5l-7 6 7 6" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
            <button class="action-btn action-next" onclick="nextCard()">
                <svg width="22" height="22" viewBox="0 0 22 22" fill="none">
                    <path d="M8 5l7 6-7 6" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
            <button class="action-btn action-mastered" id="btn-mastered" onclick="markMastered()">
                <svg width="22" height="22" viewBox="0 0 22 22" fill="none">
                    <circle cx="11" cy="11" r="9" stroke="currentColor" stroke-width="2"/>
                    <path d="M7 11l3 3 5-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>覚えた</span>
            </button>
        </div>
    </div>

    <!-- CONFIRM MODAL -->
    <div id="modal-overlay" class="modal-overlay" onclick="closeModal()">
        <div class="modal" onclick="event.stopPropagation()">
            <h3 id="modal-title">確認</h3>
            <p id="modal-message">本当にリセットしますか？</p>
            <div class="modal-actions">
                <button class="modal-btn modal-cancel" onclick="closeModal()">キャンセル</button>
                <button class="modal-btn modal-confirm" id="modal-confirm-btn">リセット</button>
            </div>
        </div>
    </div>

    <!-- COMPLETION SCREEN -->
    <div id="complete-screen" class="screen">
        <div class="complete-container">
            <div class="complete-icon">🎉</div>
            <h2>おめでとうございます！</h2>
            <p id="complete-message">すべてのカードを確認しました</p>
            <div class="complete-stats">
                <div class="complete-stat">
                    <span class="complete-stat-num" id="complete-reviewed">0</span>
                    <span class="complete-stat-label">確認済み</span>
                </div>
                <div class="complete-stat">
                    <span class="complete-stat-num" id="complete-mastered">0</span>
                    <span class="complete-stat-label">覚えた</span>
                </div>
            </div>
            <button class="menu-card" onclick="goHome()" style="max-width:320px;margin:0 auto;">
                <div class="menu-card-text" style="text-align:center;width:100%;">
                    <span class="menu-card-title">ホームに戻る</span>
                </div>
            </button>
        </div>
    </div>

    <script src="data.js"></script>
    <script src="app.js"></script>
</body>
</html>
